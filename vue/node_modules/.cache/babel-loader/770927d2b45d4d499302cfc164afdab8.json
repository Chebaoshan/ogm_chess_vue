{"ast":null,"code":"import { useGameStore } from '../store/gameStore';\nimport { winner } from '../utils/winner';\nimport { defineProps, reactive, toRefs, computed } from 'vue';\nconst props = defineProps(['position']);\nconst {\n  position\n} = toRefs(props);\nconst store = useGameStore();\nconst data = reactive({\n  pos: position,\n  cell: null\n});\nconst getResult = computed(() => {\n  return store.result;\n});\nconst getHistory = computed(() => {\n  return store.history;\n});\nconst {\n  pos,\n  cell\n} = toRefs(data);\nwatch([getResult], () => {\n  cell.value = null;\n  console.log(store.history);\n});\n\nconst handleClick = () => {\n  const a = store.getCount() % 2 == 0 ? 'X' : 'O';\n\n  if (cell.value === null) {\n    cell.value = a;\n    store.renewHistory(pos);\n    store.addCount();\n  }\n\n  const res = winner(getHistory);\n\n  if (res.result) {\n    alert(`${res.winner}`);\n    store.setResult();\n    setTimeout(() => {\n      store.$reset();\n    }, 10);\n  }\n};","map":{"version":3,"names":["useGameStore","winner","defineProps","reactive","toRefs","computed","props","position","store","data","pos","cell","getResult","result","getHistory","history","watch","value","console","log","handleClick","a","getCount","renewHistory","addCount","res","alert","setResult","setTimeout","$reset"],"sources":["/Users/strawberrypompey/tacos/frontend/vue/src/components/Square.vue"],"sourcesContent":["\nimport { useGameStore } from '../store/gameStore'\nimport { winner } from '../utils/winner'\nimport { defineProps, reactive, toRefs, computed } from 'vue'\nconst props = defineProps(['position'])\nconst { position } = toRefs(props)\nconst store = useGameStore()\nconst data = reactive({ pos: position, cell: null })\nconst getResult = computed(() => { return store.result })\nconst getHistory = computed(() => { return store.history })\nconst { pos, cell } = toRefs(data)\nwatch([getResult], () => {\n    cell.value = null\n    console.log(store.history)\n})\nconst handleClick = () => {\n    const a = store.getCount() % 2 == 0 ? 'X' : 'O'\n    if (cell.value === null) {\n        cell.value = a\n        store.renewHistory(pos)\n        store.addCount();\n    }\n    const res = winner(getHistory)\n    if (res.result) {\n        alert(`${res.winner}`)\n        store.setResult();\n        setTimeout(() => { store.$reset(); }, 10)\n    }\n}\n"],"mappings":"AACA,SAASA,YAAT,QAA6B,oBAA7B;AACA,SAASC,MAAT,QAAuB,iBAAvB;AACA,SAASC,WAAT,EAAsBC,QAAtB,EAAgCC,MAAhC,EAAwCC,QAAxC,QAAwD,KAAxD;AACA,MAAMC,KAAK,GAAGJ,WAAW,CAAC,CAAC,UAAD,CAAD,CAAzB;AACA,MAAM;EAAEK;AAAF,IAAeH,MAAM,CAACE,KAAD,CAA3B;AACA,MAAME,KAAK,GAAGR,YAAY,EAA1B;AACA,MAAMS,IAAI,GAAGN,QAAQ,CAAC;EAAEO,GAAG,EAAEH,QAAP;EAAiBI,IAAI,EAAE;AAAvB,CAAD,CAArB;AACA,MAAMC,SAAS,GAAGP,QAAQ,CAAC,MAAM;EAAE,OAAOG,KAAK,CAACK,MAAb;AAAqB,CAA9B,CAA1B;AACA,MAAMC,UAAU,GAAGT,QAAQ,CAAC,MAAM;EAAE,OAAOG,KAAK,CAACO,OAAb;AAAsB,CAA/B,CAA3B;AACA,MAAM;EAAEL,GAAF;EAAOC;AAAP,IAAgBP,MAAM,CAACK,IAAD,CAA5B;AACAO,KAAK,CAAC,CAACJ,SAAD,CAAD,EAAc,MAAM;EACrBD,IAAI,CAACM,KAAL,GAAa,IAAb;EACAC,OAAO,CAACC,GAAR,CAAYX,KAAK,CAACO,OAAlB;AACH,CAHI,CAAL;;AAIA,MAAMK,WAAW,GAAG,MAAM;EACtB,MAAMC,CAAC,GAAGb,KAAK,CAACc,QAAN,KAAmB,CAAnB,IAAwB,CAAxB,GAA4B,GAA5B,GAAkC,GAA5C;;EACA,IAAIX,IAAI,CAACM,KAAL,KAAe,IAAnB,EAAyB;IACrBN,IAAI,CAACM,KAAL,GAAaI,CAAb;IACAb,KAAK,CAACe,YAAN,CAAmBb,GAAnB;IACAF,KAAK,CAACgB,QAAN;EACH;;EACD,MAAMC,GAAG,GAAGxB,MAAM,CAACa,UAAD,CAAlB;;EACA,IAAIW,GAAG,CAACZ,MAAR,EAAgB;IACZa,KAAK,CAAE,GAAED,GAAG,CAACxB,MAAO,EAAf,CAAL;IACAO,KAAK,CAACmB,SAAN;IACAC,UAAU,CAAC,MAAM;MAAEpB,KAAK,CAACqB,MAAN;IAAiB,CAA1B,EAA4B,EAA5B,CAAV;EACH;AACJ,CAbD"},"metadata":{},"sourceType":"module"}