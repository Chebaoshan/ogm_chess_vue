{"ast":null,"code":"import { useGameStore } from '../store/gameStore';\nimport { winner } from '../utils/winner';\nimport { defineProps, reactive, toRefs, computed } from 'vue';\nconst props = defineProps(['position']);\nconst store = useGameStore();\nconst data = reactive({\n  pos: this.$props.position,\n  cell: null\n});\nconst getPlayer = computed(() => {\n  return store.currentPlayer();\n});\nconst getCount = computed(() => {\n  return store.count;\n});\nconst getResult = computed(() => {\n  return store.result;\n});\nconst getHistory = computed(() => {\n  return store.history;\n});\nconst {\n  pos,\n  cell\n} = toRefs(data);\nwatch([getResult], () => {\n  cell.value = null;\n  console.log(store.history);\n});\n\nconst handleClick = () => {\n  const a = store.getCount() % 2 == 0 ? 'X' : 'O';\n\n  if (cell.value === null) {\n    cell.value = a;\n    store.renewHistory(pos);\n    store.addCount();\n  }\n\n  const res = winner(getHistory);\n\n  if (res.result) {\n    alert(`${res.winner}`);\n    store.setResult();\n    setTimeout(() => {\n      store.$reset();\n    }, 10);\n  }\n};","map":{"version":3,"names":["useGameStore","winner","defineProps","reactive","toRefs","computed","props","store","data","pos","$props","position","cell","getPlayer","currentPlayer","getCount","count","getResult","result","getHistory","history","watch","value","console","log","handleClick","a","renewHistory","addCount","res","alert","setResult","setTimeout","$reset"],"sources":["/Users/strawberrypompey/tacos/frontend/vue/src/components/Square.vue"],"sourcesContent":["\nimport { useGameStore } from '../store/gameStore'\nimport { winner } from '../utils/winner'\nimport { defineProps, reactive, toRefs, computed } from 'vue'\nconst props = defineProps(['position'])\nconst store = useGameStore()\nconst data = reactive({ pos: this.$props.position, cell: null })\nconst getPlayer = computed(() => { return store.currentPlayer() })\nconst getCount = computed(() => { return store.count })\nconst getResult = computed(() => { return store.result })\nconst getHistory = computed(() => { return store.history })\nconst { pos, cell } = toRefs(data)\nwatch([getResult], () => {\n    cell.value = null\n    console.log(store.history)\n})\nconst handleClick = () => {\n    const a = store.getCount() % 2 == 0 ? 'X' : 'O'\n    if (cell.value === null) {\n        cell.value = a\n        store.renewHistory(pos)\n        store.addCount();\n    }\n    const res = winner(getHistory)\n    if (res.result) {\n        alert(`${res.winner}`)\n        store.setResult();\n        setTimeout(() => { store.$reset(); }, 10)\n    }\n}\n"],"mappings":"AACA,SAASA,YAAT,QAA6B,oBAA7B;AACA,SAASC,MAAT,QAAuB,iBAAvB;AACA,SAASC,WAAT,EAAsBC,QAAtB,EAAgCC,MAAhC,EAAwCC,QAAxC,QAAwD,KAAxD;AACA,MAAMC,KAAK,GAAGJ,WAAW,CAAC,CAAC,UAAD,CAAD,CAAzB;AACA,MAAMK,KAAK,GAAGP,YAAY,EAA1B;AACA,MAAMQ,IAAI,GAAGL,QAAQ,CAAC;EAAEM,GAAG,EAAE,KAAKC,MAAL,CAAYC,QAAnB;EAA6BC,IAAI,EAAE;AAAnC,CAAD,CAArB;AACA,MAAMC,SAAS,GAAGR,QAAQ,CAAC,MAAM;EAAE,OAAOE,KAAK,CAACO,aAAN,EAAP;AAA8B,CAAvC,CAA1B;AACA,MAAMC,QAAQ,GAAGV,QAAQ,CAAC,MAAM;EAAE,OAAOE,KAAK,CAACS,KAAb;AAAoB,CAA7B,CAAzB;AACA,MAAMC,SAAS,GAAGZ,QAAQ,CAAC,MAAM;EAAE,OAAOE,KAAK,CAACW,MAAb;AAAqB,CAA9B,CAA1B;AACA,MAAMC,UAAU,GAAGd,QAAQ,CAAC,MAAM;EAAE,OAAOE,KAAK,CAACa,OAAb;AAAsB,CAA/B,CAA3B;AACA,MAAM;EAAEX,GAAF;EAAOG;AAAP,IAAgBR,MAAM,CAACI,IAAD,CAA5B;AACAa,KAAK,CAAC,CAACJ,SAAD,CAAD,EAAc,MAAM;EACrBL,IAAI,CAACU,KAAL,GAAa,IAAb;EACAC,OAAO,CAACC,GAAR,CAAYjB,KAAK,CAACa,OAAlB;AACH,CAHI,CAAL;;AAIA,MAAMK,WAAW,GAAG,MAAM;EACtB,MAAMC,CAAC,GAAGnB,KAAK,CAACQ,QAAN,KAAmB,CAAnB,IAAwB,CAAxB,GAA4B,GAA5B,GAAkC,GAA5C;;EACA,IAAIH,IAAI,CAACU,KAAL,KAAe,IAAnB,EAAyB;IACrBV,IAAI,CAACU,KAAL,GAAaI,CAAb;IACAnB,KAAK,CAACoB,YAAN,CAAmBlB,GAAnB;IACAF,KAAK,CAACqB,QAAN;EACH;;EACD,MAAMC,GAAG,GAAG5B,MAAM,CAACkB,UAAD,CAAlB;;EACA,IAAIU,GAAG,CAACX,MAAR,EAAgB;IACZY,KAAK,CAAE,GAAED,GAAG,CAAC5B,MAAO,EAAf,CAAL;IACAM,KAAK,CAACwB,SAAN;IACAC,UAAU,CAAC,MAAM;MAAEzB,KAAK,CAAC0B,MAAN;IAAiB,CAA1B,EAA4B,EAA5B,CAAV;EACH;AACJ,CAbD"},"metadata":{},"sourceType":"module"}